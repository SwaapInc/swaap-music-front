(this.webpackJsonpfrontend2=this.webpackJsonpfrontend2||[]).push([[0],{34:function(e,t,a){e.exports=a(62)},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"auth",(function(){return O})),a.d(r,"search",(function(){return D}));var n=a(1),c=a.n(n),i=a(15),s=a.n(i),o=a(9),l=a(13),u=a(33),m=a(32),d=a.n(m),p=a(17);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f="app/auth/LOGIN",k="app/auth/LOGIN_REQUEST",b="app/auth/LOGOUT",g="app/auth/LOADING",v=function(e){return{type:f,user:e}},E=function(){return{type:g}};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null,loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return _({},e,{user:t.user});case b:return _({},e,{user:null});case g:return _({},e,{loading:!e.loading});default:return e}}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N="app/auth/SEARCH_REQUEST",j="app/auth/SEARCHBAR",x="app/auth/TRACKS",P=function(){return{type:j}},S=function(e){return{type:x,tracks:e}};function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchBar:!1,searchValue:"",tracks:{dataDeezer:{},dataSpotify:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return w({},e,{searchBar:!e.searchBar,searchValue:""});case N:return w({},e,{searchValue:t.search});case x:return w({},e,{tracks:{dataDeezer:t.tracks.dataDeezer,dataSpotify:t.tracks.dataSpotify}});default:return e}}var C=a(6),z=a.n(C),B=a(10),q=a(14),R=a.n(q);function T(e){return new Promise((function(t){return setTimeout(t,e)}))}var A=z.a.mark(G),L=z.a.mark(I);function G(){var e,t;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(B.a)(E());case 2:return a.next=4,R.a.post("/api/user",{}).catch((function(e){console.log(e)}));case 4:return e=a.sent,t=e.data,a.next=8,T(200);case 8:return a.next=10,Object(B.a)(v(t));case 10:return a.next=12,Object(B.a)(E());case 12:case"end":return a.stop()}}),A)}function I(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.b)(k,G);case 2:case"end":return e.stop()}}),L)}var V=z.a.mark(U),H=z.a.mark(J);function U(e){var t,a,r,n;return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(""===(t=e.search)){c.next=12;break}return c.next=4,R.a.get("/api/deezer/search/track?q=".concat(t),{}).catch((function(e){console.log(e)}));case 4:return a=c.sent,c.next=7,R.a.get("/api/spotify/search?q=".concat(t,"&type=track"),{}).catch((function(e){console.log(e)}));case 7:if(null===(r=c.sent)){c.next=12;break}return n={dataDeezer:a,dataSpotify:r.data.tracks.items},c.next=12,Object(B.a)(S(n));case 12:case"end":return c.stop()}}),V)}function J(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.b)(N,U);case 2:case"end":return e.stop()}}),H)}var Q=[I,J];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(61);var W=a(12),K=function e(t){Object(W.a)(this,e),this.id=t.id,this.name=t.name},$=function e(t){Object(W.a)(this,e),this.id=t.id,this.name=t.name,this.artists=t.artists.map((function(e){return new K(e)})),this.image=t.images[0].url},F=function e(t){Object(W.a)(this,e),this.id=t.id,this.album=new $(t.album),this.artists=t.artists.map((function(e){return new K(e)})),this.name=t.name},M=function(e){var t=e.items.map((function(e){return new F(e)}));return console.log("tracks : "),console.log(t),c.a.createElement("div",null,c.a.createElement("ul",null,t.map((function(e){return c.a.createElement("li",null,c.a.createElement("div",null,e.name),c.a.createElement("div",null,e.album.name),c.a.createElement("img",{alt:e.name,src:e.album.image}))}))))},X=function(){var e=Object(l.c)((function(e){return e.auth})),t=e.user,a=e.loading,r=Object(l.c)((function(e){return e.search})),n=r.searchBar,i=r.searchValue,s=r.tracks,o=Object(l.b)();return c.a.createElement("div",{id:"kt_header",className:"kt-header kt-grid__item kt-grid kt-grid--ver  kt-header--fixed "},c.a.createElement("div",{className:"kt-header__brand   kt-grid__item",id:"kt_header_brand"},"Swaap"),c.a.createElement("button",{className:"kt-header-menu-wrapper-close",id:"kt_header_menu_mobile_close_btn"},c.a.createElement("i",{className:"la la-close"})),c.a.createElement("div",{className:"kt-header-menu-wrapper kt-grid__item",id:"kt_header_menu_wrapper"},c.a.createElement("div",{id:"kt_header_menu",className:"kt-header-menu kt-header-menu-mobile "},c.a.createElement("ul",{className:"kt-menu__nav "}))),c.a.createElement("div",{className:"kt-header__topbar kt-grid__item kt-grid__item--fluid"},n?c.a.createElement("form",{className:"kt-quick-search__form"},c.a.createElement("div",{className:"input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text"},c.a.createElement("i",{className:"flaticon2-search-1"}))),c.a.createElement("input",{type:"text",className:"form-control kt-quick-search__input",placeholder:"Type here...",name:"query",value:i,onChange:function(e){return o((t=e.target.value,{type:N,search:t}));var t}}),c.a.createElement("div",{className:"input-group-append",onClick:function(){return o(P())}},c.a.createElement("span",{className:"input-group-text"},c.a.createElement("i",{className:"la la-close kt-quick-search__close"}))))):c.a.createElement("div",{className:"kt-header__topbar-item kt-header__topbar-item--search"},c.a.createElement("div",{className:"kt-header__topbar-wrapper",id:"kt_offcanvas_toolbar_search_toggler_btn",onClick:function(){return o(P())}},c.a.createElement("span",{className:"kt-header__topbar-icon"},c.a.createElement("i",{className:"flaticon2-search"}))))," ",a?c.a.createElement("div",{className:"kt-header__topbar kt-grid__item kt-grid__item--fluid"},c.a.createElement("div",{className:"kt-header__topbar-item kt-header__topbar-item--user",id:"kt_offcanvas_toolbar_profile_toggler_btn"},c.a.createElement("div",{className:"kt-header__topbar-username"},c.a.createElement("div",{className:"spinner-border text-light",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading..."))))):t?c.a.createElement("div",{className:"kt-header__topbar kt-grid__item kt-grid__item--fluid"},c.a.createElement("div",{className:"kt-header__topbar-item kt-header__topbar-item--user",onClick:function(){return o({type:b})},id:"kt_offcanvas_toolbar_profile_toggler_btn"},c.a.createElement("div",{className:"kt-header__topbar-welcome"},"Hi,"),c.a.createElement("div",{className:"kt-header__topbar-username"},t.name),c.a.createElement("div",{className:"kt-header__topbar-wrapper"}))):c.a.createElement("div",{className:"kt-header__topbar kt-grid__item kt-grid__item--fluid"},c.a.createElement("div",{className:"kt-header__topbar-item kt-header__topbar-item--user",onClick:function(){return o({type:k})},id:"kt_offcanvas_toolbar_profile_toggler_btn"},c.a.createElement("div",{className:"kt-header__topbar-username"},c.a.createElement("i",{className:"fa fa-sign-in-alt"})))),0!==s.dataDeezer.length?c.a.createElement("div",null,c.a.createElement("span",null,"Deezer")):0!==s.dataSpotify.length?c.a.createElement("div",null,c.a.createElement(M,{items:s.dataSpotify})):c.a.createElement("div",null,c.a.createElement("span",null,"Empty"))))},Y=function(){return c.a.createElement("div",{className:"kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor",id:"kt_content"})},Z=function(){return c.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper",id:"kt-wrapper"},c.a.createElement(X,null),c.a.createElement(Y,null))},ee=Object(u.a)(),te=[ee];te.push(d.a);var ae=Object(o.e)(Object(o.c)(r),o.a.apply(void 0,te));Q.forEach((function(e){return ee.run(e)})),s.a.render(c.a.createElement(l.a,{store:ae},c.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.905eda5b.chunk.js.map
{"ast":null,"code":"import { put, takeEvery } from 'redux-saga/effects';\nimport { displayTracks, SEARCH_REQUEST } from \"../modules/search\";\nimport axios from 'axios';\n\nfunction* requestSearchTrack(search) {\n  let searchValue = search.search;\n\n  if (searchValue !== '') {\n    const dataDeezer = yield axios.get(\"/api/deezer/search/track?q=\".concat(searchValue), {}).catch(function (error) {\n      console.log(error);\n    });\n    const dataSpotify = yield axios.get(\"/api/spotify/search?q=\".concat(searchValue, \"&type=track\"), {}).catch(function (error) {\n      console.log(error);\n    });\n\n    if (dataSpotify !== null) {\n      const tracks = {\n        dataDeezer,\n        dataSpotify: dataSpotify.data.tracks.items\n      };\n      yield put(displayTracks(tracks));\n    }\n  }\n}\n\nexport default function* searchTrackSaga() {\n  yield takeEvery(SEARCH_REQUEST, requestSearchTrack);\n}","map":{"version":3,"sources":["C:/Travail/2-Cours/M2/node/swaap/swaap/frontend/src/sagas/search.js"],"names":["put","takeEvery","displayTracks","SEARCH_REQUEST","axios","requestSearchTrack","search","searchValue","dataDeezer","get","catch","error","console","log","dataSpotify","tracks","data","items","searchTrackSaga"],"mappings":"AAAA,SAAQA,GAAR,EAAaC,SAAb,QAA6B,oBAA7B;AACA,SAAQC,aAAR,EAAuBC,cAAvB,QAA4C,mBAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,UAAUC,kBAAV,CAA6BC,MAA7B,EAAqC;AACjC,MAAIC,WAAW,GAAGD,MAAM,CAACA,MAAzB;;AACA,MAAIC,WAAW,KAAK,EAApB,EAAwB;AACpB,UAAMC,UAAU,GAAG,MAAMJ,KAAK,CAACK,GAAN,sCAAwCF,WAAxC,GAAuD,EAAvD,EAA2DG,KAA3D,CAAiE,UAAUC,KAAV,EAAiB;AACvGC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAFwB,CAAzB;AAGA,UAAMG,WAAW,GAAG,MAAMV,KAAK,CAACK,GAAN,iCAAmCF,WAAnC,kBAA6D,EAA7D,EAAiEG,KAAjE,CAAuE,UAAUC,KAAV,EAAiB;AAC9GC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAFyB,CAA1B;;AAGA,QAAGG,WAAW,KAAK,IAAnB,EAAwB;AACpB,YAAMC,MAAM,GAAG;AACXP,QAAAA,UADW;AAEXM,QAAAA,WAAW,EAAEA,WAAW,CAACE,IAAZ,CAAiBD,MAAjB,CAAwBE;AAF1B,OAAf;AAIA,YAAMjB,GAAG,CAACE,aAAa,CAACa,MAAD,CAAd,CAAT;AACH;AACJ;AACJ;;AAED,eAAe,UAAUG,eAAV,GAA4B;AACvC,QAAMjB,SAAS,CAACE,cAAD,EAAiBE,kBAAjB,CAAf;AACH","sourcesContent":["import {put, takeEvery} from 'redux-saga/effects'\r\nimport {displayTracks, SEARCH_REQUEST} from \"../modules/search\";\r\nimport axios from 'axios';\r\n\r\nfunction* requestSearchTrack(search) {\r\n    let searchValue = search.search\r\n    if (searchValue !== '') {\r\n        const dataDeezer = yield axios.get(`/api/deezer/search/track?q=${searchValue}`, {}).catch(function (error) {\r\n            console.log(error);\r\n        });\r\n        const dataSpotify = yield axios.get(`/api/spotify/search?q=${searchValue}&type=track`, {}).catch(function (error) {\r\n            console.log(error);\r\n        });\r\n        if(dataSpotify !== null){\r\n            const tracks = {\r\n                dataDeezer,\r\n                dataSpotify: dataSpotify.data.tracks.items,\r\n            }\r\n            yield put(displayTracks(tracks))\r\n        }\r\n    }\r\n}\r\n\r\nexport default function* searchTrackSaga() {\r\n    yield takeEvery(SEARCH_REQUEST, requestSearchTrack);\r\n}"]},"metadata":{},"sourceType":"module"}
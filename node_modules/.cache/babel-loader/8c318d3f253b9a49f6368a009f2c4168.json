{"ast":null,"code":"var _jsxFileName = \"C:\\\\Travail\\\\2-Cours\\\\M2\\\\node\\\\swaap\\\\swaap\\\\frontend\\\\src\\\\components\\\\PlaylistManager.jsx\";\nimport React from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Tracks from \"./Tracks\";\nimport { requestSearchTrack, toggleSearch, selectApi, resetSearch } from \"../modules/search\";\nimport { resetPlaylist, saveNewPlaylist, updatePlaylistName } from \"../modules/playlistManager\";\n\nconst PlaylistManager = () => {\n  const _useSelector = useSelector(state => state.search),\n        tracks = _useSelector.tracks,\n        searchBar = _useSelector.searchBar,\n        searchValue = _useSelector.searchValue,\n        api = _useSelector.api;\n\n  const _useSelector2 = useSelector(state => state.playlists),\n        playlists = _useSelector2.playlists,\n        progressBar = _useSelector2.progressBar,\n        playlistName = _useSelector2.playlistName,\n        playlistImage = _useSelector2.playlistImage,\n        playlistId = _useSelector2.playlistId,\n        trackCorrelation = _useSelector2.trackCorrelation;\n\n  const _useSelector3 = useSelector(state => state.auth),\n        user = _useSelector3.user;\n\n  const _useSelector4 = useSelector(state => state.localize),\n        token = _useSelector4.token;\n\n  const dispatch = useDispatch();\n\n  function getTrackToDisplay(tracks) {\n    switch (api) {\n      case 1:\n        return tracks.dataSpotify;\n\n      case 2:\n        return tracks.dataDeezer;\n\n      default:\n        return [];\n    }\n  }\n\n  function getPlaylistToDisplay(playlist) {\n    switch (api) {\n      case 1:\n        return playlist.map(item => item.dataSpotify);\n\n      case 2:\n        return playlist.map(item => item.dataDeezer);\n\n      default:\n        return [];\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: [searchBar ? 'show' : '', \"modal fade\"].join(' '),\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    style: {\n      display: \"block\",\n      zIndex: !searchBar ? \"-1\" : \"1050\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-dialog modal-xl\",\n    role: \"document\",\n    style: {\n      top: '10%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-content\",\n    style: {\n      maxHeight: '620px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-portlet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-portlet__head\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-portlet__head-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"kt-portlet__head-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, token.search)), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"aria-label\": \"Close\",\n    onClick: () => dispatch(toggleSearch()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"\\xD7\"))), React.createElement(\"div\", {\n    className: \"kt-portlet__body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-quick-search kt-quick-search--offcanvas\",\n    id: \"kt_quick_search_offcanvas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-quick-search__form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"flaticon2-search-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }))), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control kt-quick-search__input\",\n    placeholder: token.search_placeholder,\n    name: \"query\",\n    value: searchValue,\n    onChange: event => dispatch(requestSearchTrack(event.target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"form-group\",\n    style: {\n      marginBottom: '-1rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-radio-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"btn-toolbar justify-content-between\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-widget__toolbar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"\\xA0 \\xA0\", React.createElement(\"button\", {\n    className: [api === 1 ? 'btn-brand' : 'btn-secondary', \"btn btn-circle btn-sm btn-icon\"].join(' '),\n    onClick: () => dispatch(selectApi(1)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"socicon-spotify\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })), \"\\xA0 \\xA0\", React.createElement(\"button\", {\n    className: [api === 2 ? 'btn-brand' : 'btn-secondary', \"btn btn-circle btn-sm btn-icon\"].join(' '),\n    onClick: () => dispatch(selectApi(2)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"socicon-deezer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-info\",\n    onClick: () => dispatch(resetSearch()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, token.button_reset_search)))), progressBar > 0 && progressBar < 100 ? React.createElement(\"div\", {\n    className: \"kt-section\",\n    style: {\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-section__content kt-section__content--border\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"progress\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"progress-bar progress-bar-striped kt-bg-brand\",\n    role: \"progressbar\",\n    style: {\n      width: progressBar + '%'\n    },\n    \"aria-valuenow\": progressBar,\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": \"100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, progressBar | 0, \"%\")))) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }), \"\\xA0 \\xA0\", React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(Tracks, {\n    items: getTrackToDisplay(tracks),\n    api: api,\n    isPlaylist: false,\n    trackCorrelation: trackCorrelation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(Tracks, {\n    items: getPlaylistToDisplay(playlists),\n    api: api,\n    isPlaylist: true,\n    trackCorrelation: trackCorrelation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"kt-section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-section__info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-quick-search kt-quick-search--offcanvas\",\n    id: \"kt_quick_search_offcanvas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-quick-search__form row\",\n    style: {\n      marginBottom: '-2rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-media kt-media--xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: playlistImage,\n    alt: playlistName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  })), \"\\xA0 \\xA0\", React.createElement(\"div\", {\n    className: \"input-group\",\n    style: {\n      width: \"90%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: token.playlist_title_placeholder,\n    name: \"query\",\n    value: playlistName,\n    onChange: event => dispatch(updatePlaylistName(event.target.value)),\n    style: {\n      top: \"60%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }))))))), React.createElement(\"div\", {\n    className: \"kt-portlet__foot modal-footer justify-content-between\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-widget__toolbar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-brand\",\n    onClick: () => dispatch(toggleSearch()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, token.button_close), \"\\xA0 \\xA0\", React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-brand\",\n    onClick: () => dispatch(saveNewPlaylist({\n      playlist: {\n        tracks: playlists,\n        name: playlistName,\n        img: playlistImage,\n        id: playlistId\n      },\n      userId: user.id\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, token.button_save_playlist)), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-info\",\n    onClick: () => dispatch(resetPlaylist()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, token.button_reset_playlist))))));\n};\n\nexport default PlaylistManager;","map":{"version":3,"sources":["C:/Travail/2-Cours/M2/node/swaap/swaap/frontend/src/components/PlaylistManager.jsx"],"names":["React","useDispatch","useSelector","Tracks","requestSearchTrack","toggleSearch","selectApi","resetSearch","resetPlaylist","saveNewPlaylist","updatePlaylistName","PlaylistManager","state","search","tracks","searchBar","searchValue","api","playlists","progressBar","playlistName","playlistImage","playlistId","trackCorrelation","auth","user","localize","token","dispatch","getTrackToDisplay","dataSpotify","dataDeezer","getPlaylistToDisplay","playlist","map","item","join","display","zIndex","top","maxHeight","search_placeholder","event","target","value","marginBottom","button_reset_search","width","playlist_title_placeholder","button_close","name","img","id","userId","button_save_playlist","button_reset_playlist"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Tracks from \"./Tracks\";\r\nimport {requestSearchTrack, toggleSearch, selectApi, resetSearch} from \"../modules/search\";\r\nimport {resetPlaylist, saveNewPlaylist, updatePlaylistName} from \"../modules/playlistManager\";\r\n\r\nconst PlaylistManager = () => {\r\n    const {tracks, searchBar, searchValue, api} = useSelector(state => state.search)\r\n    const {playlists, progressBar, playlistName, playlistImage, playlistId, trackCorrelation} = useSelector(state => state.playlists)\r\n    const {user} = useSelector(state => state.auth);\r\n    const {token} = useSelector(state => state.localize)\r\n    const dispatch = useDispatch()\r\n\r\n    function getTrackToDisplay(tracks){\r\n        switch (api) {\r\n            case 1:\r\n                return tracks.dataSpotify\r\n            case 2:\r\n                return tracks.dataDeezer\r\n            default:\r\n                return []\r\n        }\r\n    }\r\n\r\n    function getPlaylistToDisplay(playlist){\r\n        switch (api) {\r\n            case 1:\r\n                return playlist.map((item) => item.dataSpotify)\r\n            case 2 :\r\n                return playlist.map((item) => item.dataDeezer)\r\n            default :\r\n                return []\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={[\r\n            searchBar ? 'show' : '',\r\n            \"modal fade\"\r\n        ].join(' ')}\r\n             role=\"dialog\" aria-modal=\"true\"\r\n             style={{\r\n                 display: \"block\",\r\n                 zIndex: !searchBar ? \"-1\" : \"1050\",\r\n             }}>\r\n            <div className=\"modal-dialog modal-xl\" role=\"document\" style={{\r\n                top: '10%'\r\n            }}>\r\n                <div className=\"modal-content\" style={{\r\n                    maxHeight: '620px'\r\n                }}>\r\n                    <div className=\"kt-portlet\">\r\n                        <div className=\"kt-portlet__head\">\r\n                            <div className=\"kt-portlet__head-label\">\r\n                                <h1 className=\"kt-portlet__head-title\">{token.search}</h1>\r\n                            </div>\r\n                            <button type=\"button\" className=\"close\" aria-label=\"Close\"\r\n                                    onClick={() => dispatch(toggleSearch())}>\r\n                                <span aria-hidden=\"true\">×</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"kt-portlet__body\">\r\n                            <div className=\"kt-quick-search kt-quick-search--offcanvas\" id=\"kt_quick_search_offcanvas\" >\r\n                                <div className=\"kt-quick-search__form\">\r\n                                    <div className=\"input-group\">\r\n                                        <div className=\"input-group-prepend\">\r\n                                            <span className=\"input-group-text\">\r\n                                                <i className=\"flaticon2-search-1\"/>\r\n                                            </span>\r\n                                        </div>\r\n                                        <input type=\"text\" className=\"form-control kt-quick-search__input\"\r\n                                               placeholder={token.search_placeholder} name=\"query\" value={searchValue}\r\n                                               onChange={event => dispatch(requestSearchTrack(event.target.value))}/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\" style={{\r\n                                marginBottom: '-1rem'\r\n                            }}>\r\n                                <div className=\"kt-radio-inline\">\r\n                                    <div className=\"btn-toolbar justify-content-between\">\r\n                                        <div className=\"kt-widget__toolbar\">\r\n                                            &nbsp;\r\n                                            &nbsp;\r\n                                            <button className={[\r\n                                                api === 1 ? 'btn-brand' : 'btn-secondary',\r\n                                                \"btn btn-circle btn-sm btn-icon\"\r\n                                            ].join(' ')}\r\n                                                    onClick={() => dispatch(selectApi(1))}>\r\n                                                <i className=\"socicon-spotify\"></i>\r\n                                            </button>\r\n                                            &nbsp;\r\n                                            &nbsp;\r\n                                            <button className={[\r\n                                                api === 2 ? 'btn-brand' : 'btn-secondary',\r\n                                                \"btn btn-circle btn-sm btn-icon\"\r\n                                            ].join(' ')}\r\n                                                    onClick={() => dispatch(selectApi(2))}>\r\n                                                <i className=\"socicon-deezer\"/>\r\n                                            </button>\r\n                                        </div>\r\n                                        <button type=\"button\" className=\"btn btn-outline-info\"\r\n                                            onClick={() => dispatch(resetSearch())}>\r\n                                            {token.button_reset_search}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {\r\n                                (progressBar > 0 && progressBar < 100) ?\r\n                                    (\r\n                                        <div className=\"kt-section\"\r\n                                             style={{\r\n                                                 width: \"100%\",\r\n                                             }}\r\n                                        >\r\n                                            <div className=\"kt-section__content kt-section__content--border\">\r\n                                                <div className=\"progress\">\r\n                                                    <div className=\"progress-bar progress-bar-striped kt-bg-brand\" role='progressbar'\r\n                                                         style={{\r\n                                                             width: progressBar + '%',\r\n                                                         }}\r\n                                                         aria-valuenow={progressBar}\r\n                                                         aria-valuemin=\"0\"\r\n                                                         aria-valuemax=\"100\"\r\n                                                    >\r\n                                                        {progressBar | 0}%\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div/>\r\n                                    )\r\n                            }\r\n                            &nbsp;\r\n                            &nbsp;\r\n                            <div className=\"row\">\r\n                                <Tracks items={getTrackToDisplay(tracks)} api={api} isPlaylist={false} trackCorrelation={trackCorrelation}/>\r\n                                <Tracks items={getPlaylistToDisplay(playlists)} api={api} isPlaylist={true} trackCorrelation={trackCorrelation}/>\r\n                            </div>\r\n                            <div className=\"kt-section\">\r\n                                <div className=\"kt-section__info\">\r\n                                    <div className=\"kt-quick-search kt-quick-search--offcanvas\" id=\"kt_quick_search_offcanvas\" >\r\n                                        <div className=\"kt-quick-search__form row\" style={{\r\n                                            marginBottom: '-2rem'\r\n                                        }}>\r\n                                            <div className=\"kt-media kt-media--xl\">\r\n                                                <img src={playlistImage} alt={playlistName}/>\r\n                                            </div>\r\n                                            &nbsp;\r\n                                            &nbsp;\r\n                                            <div className=\"input-group\" style={{width: \"90%\"}}>\r\n                                                <input type=\"text\" className=\"form-control\"\r\n                                                       placeholder={token.playlist_title_placeholder} name=\"query\"\r\n                                                       value={playlistName}\r\n                                                       onChange={(event) => dispatch(updatePlaylistName(event.target.value))}\r\n                                                       style={{\r\n                                                           top: \"60%\"\r\n                                                       }}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"kt-portlet__foot modal-footer justify-content-between\">\r\n                            <div className=\"kt-widget__toolbar\">\r\n                                <button type=\"button\" className=\"btn btn-outline-brand\"\r\n                                        onClick={() => dispatch(toggleSearch())}>{token.button_close}</button>\r\n                                &nbsp;\r\n                                &nbsp;\r\n                                <button type=\"button\" className=\"btn btn-brand\"\r\n                                    onClick={() => dispatch(saveNewPlaylist({\r\n                                        playlist: {\r\n                                            tracks : playlists,\r\n                                            name : playlistName,\r\n                                            img : playlistImage,\r\n                                            id : playlistId,\r\n                                        },\r\n                                        userId : user.id,\r\n                                    }))}>{token.button_save_playlist}</button>\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-outline-info\"\r\n                                    onClick={() => dispatch(resetPlaylist())}>{token.button_reset_playlist}</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default PlaylistManager\r\n"]},"metadata":{},"sourceType":"module"}